@{
    ViewData["Title"] = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row gap-20">
    <div class="col-12">
        <div class="bd bgc-white p-30">
            <h4 class="lh-1 mB-0">Admin Dashboard</h4>
        </div>
    </div>

    <!-- İstatistik Kartları -->
    <div class="col-md-3">
        <div class="bd bgc-white p-20 bdrs-3">
            <div class="peers fxw-nw ai-c">
                <div class="peer peer-greed">
                    <h6 class="c-grey-600 mB-5">Toplam Tarif</h6>
                    <h3 class="mB-0 c-grey-900">@ViewBag.TotalRecipes</h3>
                </div>
                <div class="peer">
                    <i class="ti-book fsz-xxl c-blue-500"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="bd bgc-white p-20 bdrs-3">
            <div class="peers fxw-nw ai-c">
                <div class="peer peer-greed">
                    <h6 class="c-grey-600 mB-5">Kategoriler</h6>
                    <h3 class="mB-0 c-grey-900">@ViewBag.TotalCategories</h3>
                </div>
                <div class="peer">
                    <i class="ti-folder fsz-xxl c-purple-500"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="bd bgc-white p-20 bdrs-3">
            <div class="peers fxw-nw ai-c">
                <div class="peer peer-greed">
                    <h6 class="c-grey-600 mB-5">Öne Çıkan Tarifler</h6>
                    <h3 class="mB-0 c-grey-900">@ViewBag.FeaturedCount</h3>
                </div>
                <div class="peer">
                    <i class="ti-star fsz-xxl c-yellow-500"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="bd bgc-white p-20 bdrs-3">
            <div class="peers fxw-nw ai-c">
                <div class="peer peer-greed">
                    <h6 class="c-grey-600 mB-5">Kullanıcılar</h6>
                    <h3 class="mB-0 c-grey-900">@ViewBag.TotalUsers</h3>
                </div>
                <div class="peer">
                    <i class="ti-user fsz-xxl c-green-500"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Hızlı Erişim -->
    <div class="col-12">
        <div class="bd bgc-white p-30">
            <h6 class="lh-1 mB-20">Hızlı Erişim</h6>
            <div class="row gap-10">
                <div class="col-md-3">
                    <a asp-action="Recipes" class="d-b td-n p-15 bgc-blue-50 bdrs-3 c-blue-800 cH-white cH-bgc-blue-500">
                        <i class="ti-book mR-10"></i>
                        <span class="fw-600">Tarif Yönetimi</span>
                    </a>
                </div>
                <div class="col-md-3">
                    <a asp-action="Categories" class="d-b td-n p-15 bgc-purple-50 bdrs-3 c-purple-800 cH-white cH-bgc-purple-500">
                        <i class="ti-folder mR-10"></i>
                        <span class="fw-600">Kategori Yönetimi</span>
                    </a>
                </div>
                <div class="col-md-3">
                    <a asp-action="Users" class="d-b td-n p-15 bgc-green-50 bdrs-3 c-green-800 cH-white cH-bgc-green-500">
                        <i class="ti-user mR-10"></i>
                        <span class="fw-600">Kullanıcı Yönetimi</span>
                    </a>
                </div>
                <div class="col-md-3">
                    <a asp-action="Roles" class="d-b td-n p-15 bgc-red-50 bdrs-3 c-red-800 cH-white cH-bgc-red-500">
                        <i class="ti-settings mR-10"></i>
                        <span class="fw-600">Rol Yönetimi</span>
                    </a>
                </div>
                <div class="col-md-3">
                    <a asp-action="Images" class="d-b td-n p-15 bgc-orange-50 bdrs-3 c-orange-800 cH-white cH-bgc-orange-500">
                        <i class="ti-image mR-10"></i>
                        <span class="fw-600">Görsel Yönetimi</span>
                    </a>
                </div>
                <div class="col-md-3">
                    <a asp-action="Authors" class="d-b td-n p-15 bgc-indigo-50 bdrs-3 c-indigo-800 cH-white cH-bgc-indigo-500">
                        <i class="ti-pencil mR-10"></i>
                        <span class="fw-600">Yazar Yönetimi</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Son Eklenen Tarifler -->
    @if (ViewBag.RecentRecipes != null)
    {
        <div class="col-12">
            <div class="bd bgc-white p-30">
                <h6 class="lh-1 mB-20">Son Eklenen Tarifler</h6>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Başlık</th>
                                <th>Kategori</th>
                                <th>Eklenme Tarihi</th>
                                <th>İşlemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var recipe in (List<FrontendMvc.Models.Recipes.RecipeViewModel>)ViewBag.RecentRecipes)
                            {
                                <tr>
                                    <td>@recipe.Id</td>
                                    <td>@recipe.Title</td>
                                    <td>@(recipe.Category?.Name ?? "-")</td>
                                    <td>@recipe.CreatedAt.ToString("dd.MM.yyyy HH:mm")</td>
                                    <td>
                                        <a asp-action="EditRecipe" asp-route-id="@recipe.Id" class="btn btn-sm btn-primary" style="color: white;">
                                            <i class="ti-pencil"></i> Düzenle
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    }
</div>

